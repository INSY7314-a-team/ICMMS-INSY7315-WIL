@model ProjectTaskDto

<div class="task-card" id="task-@Model.TaskId" data-task-id="@Model.TaskId">
    <div class="task-header">
        <div class="task-info">
            <h4 class="task-name">@Model.Name</h4>
            <div class="task-meta">
                <span class="task-status status-@Model.Status.ToLower().Replace(" ", "-")">@Model.Status</span>
                <span class="task-priority priority-@Model.Priority.ToLower()">@Model.Priority</span>
                <span class="task-due-date">
                    <i class="fa-solid fa-calendar me-1"></i>
                    @Model.StartDate.ToString("dd/MM/yyyy") - @Model.DueDate.ToString("dd/MM/yyyy")
                </span>
            </div>
        </div>
        <div class="task-actions">
            <button class="btn btn-info btn-sm" onclick="openTaskDetailsModal('@Model.TaskId')" data-bs-toggle="modal"
                data-bs-target="#taskDetailsModal" data-task-id="@Model.TaskId">
                <i class="fa-solid fa-eye me-1"></i>Details
            </button>
            <button class="btn btn-warning btn-sm" onclick="openProgressReportModal('@Model.TaskId')"
                data-bs-toggle="modal" data-bs-target="#progressReportModal" data-task-id="@Model.TaskId">
                <i class="fa-solid fa-chart-line me-1"></i>Progress
            </button>
            <button class="btn btn-success btn-sm" onclick="openCompletionRequestModal('@Model.TaskId')"
                data-bs-toggle="modal" data-bs-target="#completionRequestModal" data-task-id="@Model.TaskId">
                <i class="fa-solid fa-check me-1"></i>Complete
            </button>
        </div>
    </div>

    <div class="task-details" id="task-details-@Model.TaskId" style="display: none;">
        <div class="task-description">
            <p>@Model.Description</p>
        </div>
        <div class="task-progress">
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: @Model.Progress%"></div>
            </div>
            <span class="progress-text">@Model.Progress%</span>
        </div>
    </div>
</div>